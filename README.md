# âš”ï¸ Discord ë¬´ê¸° ê°•í™” ê²Œì„ ë´‡

Discordì—ì„œ ë¬´ê¸°ë¥¼ ê°•í™”í•˜ê³ , ëª¬ìŠ¤í„°ë‚˜ ë‹¤ë¥¸ ìœ ì €ì™€ ë°°í‹€í•˜ëŠ” RPG ìŠ¤íƒ€ì¼ ê²Œì„ ë´‡ì…ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ëª…ë ¹ì–´](#-ëª…ë ¹ì–´)
- [ê²Œì„ ì‹œìŠ¤í…œ](#-ê²Œì„-ì‹œìŠ¤í…œ)
  - [ë¬´ê¸° ì‹œìŠ¤í…œ](#ë¬´ê¸°-ì‹œìŠ¤í…œ)
  - [ê°•í™” ì‹œìŠ¤í…œ](#ê°•í™”-ì‹œìŠ¤í…œ)
  - [ì „íˆ¬ ì‹œìŠ¤í…œ](#ì „íˆ¬-ì‹œìŠ¤í…œ)
  - [ë¬´ê¸° ì†ìƒ/íŒŒê´´ ì‹œìŠ¤í…œ](#ë¬´ê¸°-ì†ìƒíŒŒê´´-ì‹œìŠ¤í…œ)
- [ì„¤ì¹˜ ë° ë°°í¬](#-ì„¤ì¹˜-ë°-ë°°í¬)
- [í™˜ê²½ ë³€ìˆ˜](#-í™˜ê²½-ë³€ìˆ˜)

---

## ğŸ® ì£¼ìš” ê¸°ëŠ¥

- ğŸ—¡ï¸ **ë¬´ê¸° ê°•í™”**: ë¬´ê¸°ë¥¼ ê°•í™”í•˜ì—¬ ì „íˆ¬ë ¥ì„ ë†’ì´ì„¸ìš”
- âš”ï¸ **ë°°í‹€**: ëª¬ìŠ¤í„°ë‚˜ ë‹¤ë¥¸ ìœ ì €ì™€ ì „íˆ¬
- ğŸ’° **ê²½ì œ ì‹œìŠ¤í…œ**: ì¶œì„, ì „íˆ¬, íŒë§¤ë¡œ ê³¨ë“œ íšë“
- ğŸ† **ë­í‚¹**: ì„œë²„ ë‚´ ë­í‚¹ ê²½ìŸ
- ğŸ–¼ï¸ **ë¬´ê¸° ì´ë¯¸ì§€**: R2 ìŠ¤í† ë¦¬ì§€ë¥¼ í†µí•œ ë¬´ê¸° ì´ë¯¸ì§€ í‘œì‹œ

---

## ğŸ“ ëª…ë ¹ì–´

| ëª…ë ¹ì–´ | ì„¤ëª… |
|--------|------|
| `/ì •ë³´ @ìœ ì €` | ë‚´ í”„ë¡œí•„ í™•ì¸ (ë¬´ê¸°, ìê¸ˆ, ìŠ¹ë¦¬ íšŸìˆ˜) ë˜ëŠ” ìƒëŒ€ë°© í”„ë¡œí•„ í™•ì¸ |
| `/ì¶œì„` | ì¼ì¼ ì¶œì„ ë³´ìƒ (200,000ì›) |
| `/ê°•í™”` | ë¬´ê¸° ê°•í™” ì‹œë„ |
| `/ë°°í‹€` | ëœë¤ ëª¬ìŠ¤í„° ë˜ëŠ” ìœ ì €ì™€ ì „íˆ¬ |
| `/ë°°í‹€ @ìœ ì €` | íŠ¹ì • ìœ ì €ì™€ ì „íˆ¬ |
| `/íŒë§¤` | í˜„ì¬ ë¬´ê¸° íŒë§¤ í›„ ìƒˆ ë¬´ê¸° íšë“ |
| `/ë¬µë…` | ì†Œì•¡ ê³¨ë“œ íšë“ (10~109ì›) |
| `/ë­í‚¹` | ì„œë²„ TOP 5 ë­í‚¹ í™•ì¸ |
| `/íŒŒì‚°` | ëª¨ë“  ì •ë³´ ì´ˆê¸°í™” (200,000ì›ìœ¼ë¡œ ì¬ì‹œì‘) |

---

## ğŸ¯ ê²Œì„ ì‹œìŠ¤í…œ

### ë¬´ê¸° ì‹œìŠ¤í…œ

#### ë¬´ê¸° ì¢…ë¥˜
ê²Œì„ì—ëŠ” 3ê°€ì§€ ë¬´ê¸° íƒ€ì…ê³¼ ë‹¤ì–‘í•œ ë“±ê¸‰ì´ ìˆìŠµë‹ˆë‹¤:

| íƒ€ì… | ë¬´ê¸° ëª©ë¡ |
|------|----------|
| âš”ï¸ **ê²€** | ë‚˜ë¬´ ê²€, ì²  ê²€, ê°•ì²  ê²€, ë¯¸ìŠ¤ë¦´ ê²€, ë‹¤ì´ì•„ëª¬ë“œ ê²€, ë“œë˜ê³¤ ìŠ¬ë ˆì´ì–´, ì‹ ì˜ ê²€, ì „ì„¤ì˜ ê²€ |
| ğŸª“ **ë„ë¼** | ë‚˜ë¬´ ë„ë¼, ì²  ë„ë¼, ê°•ì²  ë„ë¼, ë¯¸ìŠ¤ë¦´ ë„ë¼, ë‹¤ì´ì•„ëª¬ë“œ ë„ë¼, ë“œë˜ê³¤ ë„ë¼, ì‹ ì˜ ë„ë¼, ì „ì„¤ì˜ ë„ë¼ |
| ğŸª„ **ì§€íŒ¡ì´** | ë‚˜ë¬´ ì§€íŒ¡ì´, ë§ˆë²• ì§€íŒ¡ì´, ê³ ëŒ€ ì§€íŒ¡ì´, ì‹ ì˜ ì§€íŒ¡ì´, ì „ì„¤ì˜ ì§€íŒ¡ì´ |

#### ë¬´ê¸° ê¸°ë³¸ ê°€ê²© (íŒë§¤ ê°€ê²© ê³„ì‚° ê¸°ì¤€)

| ë“±ê¸‰ | ê²€ | ë„ë¼ | ì§€íŒ¡ì´ |
|------|-----|------|--------|
| ë‚˜ë¬´ | 100ì› | 150ì› | 200ì› |
| ì² /ë§ˆë²• | 500ì› | 600ì› | 800ì› |
| ê°•ì² /ê³ ëŒ€ | 1,000ì› | 1,200ì› | 1,500ì› |
| ë¯¸ìŠ¤ë¦´ | 2,000ì› | 2,500ì› | - |
| ë‹¤ì´ì•„ëª¬ë“œ | 5,000ì› | 6,000ì› | - |
| ë“œë˜ê³¤ | 10,000ì› | 12,000ì› | - |
| ì‹  | 20,000ì› | 25,000ì› | 3,000ì› |
| ì „ì„¤ | 50,000ì› | 60,000ì› | 8,000ì› |

#### íŒë§¤ ê°€ê²© ê³„ì‚°

ë¬´ê¸° ë“±ê¸‰ì— ë”°ë¼ íŒë§¤ ê°€ê²© ê³µì‹ì´ ë‹¤ë¦…ë‹ˆë‹¤:

| ë“±ê¸‰ | ê³„ì‚° ê³µì‹ | ì˜ˆì‹œ (13ê°• ê¸°ì¤€) |
|------|----------|------------------|
| **ì „ì„¤ê¸‰** | `basePrice Ã— (20 + level Ã— 5)` | ì „ì„¤ì˜ ì§€íŒ¡ì´: 8,000 Ã— 85 = 680,000ì› |
| **ì‹ ê¸‰** | `basePrice Ã— (10 + level Ã— 2)` | ì‹ ì˜ ì§€íŒ¡ì´: 3,000 Ã— 36 = 108,000ì› |
| **ë“œë˜ê³¤ê¸‰** | `basePrice Ã— (5 + level)` | ë“œë˜ê³¤ ìŠ¬ë ˆì´ì–´: 10,000 Ã— 18 = 180,000ì› |
| **ë‹¤ì´ì•„ëª¬ë“œê¸‰** | `basePrice Ã— (3 + level Ã— 0.5)` | ë‹¤ì´ì•„ëª¬ë“œ ê²€: 5,000 Ã— 9.5 = 47,500ì› |
| **ë¯¸ìŠ¤ë¦´ê¸‰** | `basePrice Ã— (2 + level Ã— 0.3)` | ë¯¸ìŠ¤ë¦´ ê²€: 2,000 Ã— 5.9 = 11,800ì› |
| **ì¼ë°˜/ê³ ê¸‰** | `basePrice + (level Ã— 1,000)` | ê°•ì²  ê²€: 1,000 + 13,000 = 14,000ì› |

---

### ê°•í™” ì‹œìŠ¤í…œ

#### ê°•í™” ë¹„ìš©
```
ê°•í™” ë¹„ìš© = (í˜„ì¬ ë ˆë²¨ Ã— 1,000) + 500ì›
```

| í˜„ì¬ ê°•í™” | ë¹„ìš© |
|-----------|------|
| +0ê°• â†’ +1ê°• | 500ì› |
| +5ê°• â†’ +6ê°• | 5,500ì› |
| +10ê°• â†’ +11ê°• | 10,500ì› |
| +15ê°• â†’ +16ê°• | 15,500ì› |

#### ê°•í™” í™•ë¥ 

| ê²°ê³¼ | í™•ë¥  ê³„ì‚° |
|------|----------|
| âœ… **ì„±ê³µ** | `max(10%, 100% - ë ˆë²¨ Ã— 5%)` |
| ğŸ’¥ **íŒŒê´´** | êµ¬ê°„ë³„ ê´€ë¦¬ (ì•„ë˜ í‘œ ì°¸ì¡°) |
| âŒ **ì‹¤íŒ¨** | `100% - ì„±ê³µë¥  - íŒŒê´´ìœ¨` |

#### íŒŒê´´ í™•ë¥  êµ¬ê°„

| ê°•í™” êµ¬ê°„ | íŒŒê´´ í™•ë¥  ë²”ìœ„ |
|-----------|---------------|
| 0~5ê°• | 0% ~ 6% |
| 6~10ê°• | 7% ~ 13% |
| 11~15ê°• | 14% ~ 21% |
| 16~20ê°• | 22% ~ 28% |
| 21ê°• ì´ìƒ | 28% (ìµœëŒ€) |

#### ê°•í™” í™•ë¥  í‘œ

| í˜„ì¬ ê°•í™” | ì„±ê³µ | ì‹¤íŒ¨ | íŒŒê´´ |
|-----------|------|------|------|
| +0ê°• | 100% | 0% | 0% |
| +5ê°• | 75% | 19% | 6% |
| +10ê°• | 50% | 37% | 13% |
| +15ê°• | 25% | 54% | 21% |
| +20ê°• | 10% | 62% | 28% |
| +21ê°• ì´ìƒ | 10% | 62% | 28% |

> âš ï¸ **íŒŒê´´ ì‹œ**: ë¬´ê¸°ê°€ íŒŒê´´ë˜ê³  ëœë¤í•œ ìƒˆ ë¬´ê¸° +0ê°•ìœ¼ë¡œ êµì²´ë©ë‹ˆë‹¤.

---

### ì „íˆ¬ ì‹œìŠ¤í…œ

#### ì „íˆ¬ë ¥ ê³„ì‚°
```
ê¸°ë³¸ ì „íˆ¬ë ¥ = (ë¬´ê¸° ë ˆë²¨ Ã— 15) + 40
ì‹¤ì œ ì „íˆ¬ë ¥ = ê¸°ë³¸ ì „íˆ¬ë ¥ Ã— (0.8 ~ 1.2) [ëœë¤ Â±20%]
```

| ë¬´ê¸° ë ˆë²¨ | ê¸°ë³¸ ì „íˆ¬ë ¥ | ì‹¤ì œ ë²”ìœ„ |
|-----------|-------------|-----------|
| +0ê°• | 40 | 32 ~ 48 |
| +5ê°• | 115 | 92 ~ 138 |
| +10ê°• | 190 | 152 ~ 228 |
| +15ê°• | 265 | 212 ~ 318 |

#### ëª¬ìŠ¤í„° ë ˆë²¨ ìƒì„±
```
ëª¬ìŠ¤í„° ë ˆë²¨ = í”Œë ˆì´ì–´ ë ˆë²¨ + (-5 ~ +10)
```

#### ì „íˆ¬ ë³´ìƒ (ëª¬ìŠ¤í„° ì „íˆ¬)

| ë ˆë²¨ ê²©ì°¨ | ë³´ìƒ ê³„ì‚° | ì˜ˆì‹œ |
|-----------|----------|------|
| ëª¬ìŠ¤í„°ê°€ ë” ê°•í•¨ (+N) | `1,000 + (N Ã— 200)ì›` | +5ê²©ì°¨: 2,000ì› |
| ë™ì¼ ë ˆë²¨ (0) | `1,000ì›` | - |
| ëª¬ìŠ¤í„°ê°€ ë” ì•½í•¨ (-N) | `max(200ì›, 1,000 - N Ã— 100)ì›` | -5ê²©ì°¨: 500ì› |

#### ìœ ì € ì „íˆ¬

| ê²°ê³¼ | ë³´ìƒ/íŒ¨ë„í‹° |
|------|------------|
| âš”ï¸ **ìŠ¹ë¦¬** | +2,000ì› |
| ğŸ’€ **íŒ¨ë°°** | -500ì› |

---

### ë¬´ê¸° ì†ìƒ/íŒŒê´´ ì‹œìŠ¤í…œ

**íŒ¨ë°° ì‹œ** ì „íˆ¬ë ¥ ì°¨ì´ì— ë”°ë¼ ë¬´ê¸°ê°€ ì†ìƒë˜ê±°ë‚˜ íŒŒê´´ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ì „íˆ¬ë ¥ ì°¨ì´ ê³„ì‚°
```
ì „íˆ¬ë ¥ ì°¨ì´(%) = (ìƒëŒ€ ì „íˆ¬ë ¥ - ë‚´ ì „íˆ¬ë ¥) / ë‚´ ì „íˆ¬ë ¥ Ã— 100
```

#### ì†ìƒ/íŒŒê´´ í™•ë¥ 

| ì „íˆ¬ë ¥ ì°¨ì´ | ì†ìƒ í™•ë¥  | íŒŒê´´ í™•ë¥  | ì„¤ëª… |
|------------|----------|----------|------|
| 0% ~ 30% | 15% | 3% | ì°¨ì´ê°€ ì‘ìŒ |
| 30% ~ 80% | 25% | 5% | ë³´í†µ ì°¨ì´ |
| 80% ~ 150% | 40% | 12% | í° ì°¨ì´ |
| 150% ì´ìƒ | 60% | 25% | ë§¤ìš° í° ì°¨ì´ |

#### ì†ìƒ/íŒŒê´´ ê²°ê³¼

| ê²°ê³¼ | íš¨ê³¼ |
|------|------|
| âš™ï¸ **ì†ìƒ** | ë¬´ê¸° ë ˆë²¨ -1 (ì˜ˆ: +10ê°• â†’ +9ê°•) |
| ğŸ’¥ **íŒŒê´´** | ë¬´ê¸° íŒŒê´´, ëœë¤ ìƒˆ ë¬´ê¸° +0ê°•ìœ¼ë¡œ êµì²´ |

> ğŸ’¡ **ì°¸ê³ **: ë¬´ê¸° ë ˆë²¨ì´ 0ì´ë©´ ì†ìƒì´ ë°œìƒí•´ë„ ë ˆë²¨ì´ ë‚´ë ¤ê°€ì§€ ì•ŠìŠµë‹ˆë‹¤.

---

## ğŸš€ ì„¤ì¹˜ ë° ë°°í¬

### 1. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
npm install
```

### 2. ëª…ë ¹ì–´ ë“±ë¡
```bash
node register.js
```

### 3. Cloudflare Workers ë°°í¬
```bash
npx wrangler deploy
```

### 4. ì´ë¯¸ì§€ ì—…ë¡œë“œ (R2)
```bash
node scripts/upload-images.js
```

---

## ğŸ”§ í™˜ê²½ ë³€ìˆ˜

| ë³€ìˆ˜ëª… | ì„¤ëª… |
|--------|------|
| `DISCORD_PUBLIC_KEY` | Discord ì• í”Œë¦¬ì¼€ì´ì…˜ ê³µê°œ í‚¤ |
| `DISCORD_APPLICATION_ID` | Discord ì• í”Œë¦¬ì¼€ì´ì…˜ ID |
| `DISCORD_TOKEN` | Discord ë´‡ í† í° |
| `R2_PUBLIC_URL` | R2 ë²„í‚· ê³µê°œ URL (ì´ë¯¸ì§€ìš©) |

### wrangler.jsonc ì„¤ì •

```jsonc
{
  "name": "discord-game-bot",
  "main": "src/index.js",
  "compatibility_date": "2024-01-01",
  "d1_databases": [
    {
      "binding": "game_db",
      "database_name": "game-db",
      "database_id": "YOUR_DB_ID"
    }
  ],
  "r2_buckets": [
    {
      "binding": "WEAPON_IMAGES",
      "bucket_name": "weapon-images"
    }
  ]
}
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
discord-game-bot/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ index.js          # ë©”ì¸ ë´‡ ì½”ë“œ
â”œâ”€â”€ image/                 # ë¬´ê¸° ì´ë¯¸ì§€ íŒŒì¼
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ upload-images.js   # R2 ì´ë¯¸ì§€ ì—…ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ generate-templates.js  # AI í…œí”Œë¦¿ ìƒì„±
â”œâ”€â”€ test/
â”‚   â””â”€â”€ index.spec.js      # í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”œâ”€â”€ schema.sql             # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”œâ”€â”€ templates.sql          # AI ì‘ë‹µ í…œí”Œë¦¿
â”œâ”€â”€ register.js            # Discord ëª…ë ¹ì–´ ë“±ë¡
â”œâ”€â”€ wrangler.jsonc         # Cloudflare Workers ì„¤ì •
â””â”€â”€ package.json
```

---

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### users í…Œì´ë¸”
```sql
CREATE TABLE users (
  id TEXT PRIMARY KEY,           -- Discord ìœ ì € ID
  username TEXT,                  -- ìœ ì €ëª…
  weapon_name TEXT DEFAULT 'ë‚˜ë¬´ ê²€',  -- í˜„ì¬ ë¬´ê¸°
  level INTEGER DEFAULT 0,        -- ê°•í™” ë ˆë²¨
  money INTEGER DEFAULT 200000,   -- ë³´ìœ  ê³¨ë“œ
  wins INTEGER DEFAULT 0,         -- ìŠ¹ë¦¬ íšŸìˆ˜
  last_daily TEXT                 -- ë§ˆì§€ë§‰ ì¶œì„ì¼
);
```

### ai_responses í…Œì´ë¸”
```sql
CREATE TABLE ai_responses (
  id INTEGER PRIMARY KEY,
  result_type TEXT,              -- ê²°ê³¼ íƒ€ì… (success, failure, destroyed)
  response TEXT                  -- ì‘ë‹µ í…œí”Œë¦¿
);
```

---

## ğŸ“œ ë¼ì´ì„ ìŠ¤

MIT License

---

## ğŸ¤ ê¸°ì—¬

ë²„ê·¸ ë¦¬í¬íŠ¸ë‚˜ ê¸°ëŠ¥ ì œì•ˆì€ Issuesë¥¼ í†µí•´ ì œì¶œí•´ì£¼ì„¸ìš”!
